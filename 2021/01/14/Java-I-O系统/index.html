<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="对于程序语言的设计者而言，创建一个好的输入输出I&#x2F;O系统是一项艰难的任务。 File类它既能代表一个特定文件的名称，又能够代表一个目录下的一组文件的名称。 File类和FilenameFilter接口 12345678910111213141516171819202122232425262728293031public class TextFile &amp;#123;    public static">
<meta property="og:type" content="article">
<meta property="og:title" content="Java I&#x2F;O系统">
<meta property="og:url" content="https://wanglu92.github.io/2021/01/14/Java-I-O%E7%B3%BB%E7%BB%9F/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="对于程序语言的设计者而言，创建一个好的输入输出I&#x2F;O系统是一项艰难的任务。 File类它既能代表一个特定文件的名称，又能够代表一个目录下的一组文件的名称。 File类和FilenameFilter接口 12345678910111213141516171819202122232425262728293031public class TextFile &amp;#123;    public static">
<meta property="og:locale">
<meta property="article:published_time" content="2021-01-14T08:51:43.000Z">
<meta property="article:modified_time" content="2021-01-15T07:54:45.777Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://wanglu92.github.io/2021/01/14/Java-I-O系统/"/>





  <title>Java I/O系统 | Hexo</title>
  








<meta name="generator" content="Hexo 5.3.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://wanglu92.github.io/2021/01/14/Java-I-O%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Java I/O系统</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-01-14T16:51:43+08:00">
                2021-01-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>对于程序语言的设计者而言，创建一个好的输入输出<code>I/O</code>系统是一项艰难的任务。</p>
<h2 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h2><p>它既能代表一个特定文件的名称，又能够代表一个目录下的一组文件的名称。</p>
<p><code>File</code>类和<code>FilenameFilter</code>接口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">public class TextFile &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        File path &#x3D; new File(&quot;.&quot;);</span><br><span class="line">        String[] list;</span><br><span class="line">        if(args.length &#x3D;&#x3D; 0) &#123;</span><br><span class="line">            list &#x3D; path.list();</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            list &#x3D; path.list(new DirFilter(args[0]));</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(list, String.CASE_INSENSITIVE_ORDER);</span><br><span class="line">        for (int i &#x3D; 0; i &lt; list.length; i++) &#123;</span><br><span class="line">            System.out.println(list[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class DirFilter implements FilenameFilter&#123;</span><br><span class="line"></span><br><span class="line">    private Pattern pattern;</span><br><span class="line"></span><br><span class="line">    public DirFilter(String regex) &#123;</span><br><span class="line">        this.pattern &#x3D; Pattern.compile(regex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean accept(File dir, String name) &#123;</span><br><span class="line">        return pattern.matcher(name).matches();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Directory用于获取regex匹配的文件名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">public class Directory &#123;</span><br><span class="line"></span><br><span class="line">    public static File[] local(File dir, final String regex) &#123;</span><br><span class="line">        return dir.listFiles(new FilenameFilter() &#123;</span><br><span class="line">            private Pattern pattern &#x3D; Pattern.compile(regex);</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public boolean accept(File dir, String name) &#123;</span><br><span class="line">                return pattern.matcher(new File(name).getName()).matches();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static File[] local(String path, final String regex) &#123;</span><br><span class="line">        return local(new File(path), regex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static TreeInfo walk(String start, String regex) &#123;</span><br><span class="line">        return recurseDirs(new File(start), regex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static TreeInfo walk(File start, String regex) &#123;</span><br><span class="line">        return recurseDirs(start, regex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static TreeInfo walk(File start) &#123;</span><br><span class="line">        return recurseDirs(start, &quot;.*&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static TreeInfo walk(String start) &#123;</span><br><span class="line">        return recurseDirs(new File(start), &quot;.*&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static TreeInfo recurseDirs(File startDir, String regex) &#123;</span><br><span class="line">        TreeInfo result &#x3D; new TreeInfo();</span><br><span class="line">        for (File item : Objects.requireNonNull(startDir.listFiles())) &#123;</span><br><span class="line">            if (item.isDirectory()) &#123;</span><br><span class="line">                result.dirs.add(item);</span><br><span class="line">                result.addAll(recurseDirs(item, regex));</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                if (item.getName().matches(regex)) &#123;</span><br><span class="line">                    result.files.add(item);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static class TreeInfo implements Iterable&lt;File&gt; &#123;</span><br><span class="line"></span><br><span class="line">        public List&lt;File&gt; files &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line">        public List&lt;File&gt; dirs &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public Iterator&lt;File&gt; iterator() &#123;</span><br><span class="line">            return files.iterator();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        void addAll(TreeInfo other) &#123;</span><br><span class="line">            files.addAll(other.files);</span><br><span class="line">            dirs.addAll(other.dirs);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public void forEach(Consumer&lt;? super File&gt; action) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public Spliterator&lt;File&gt; spliterator() &#123;</span><br><span class="line">            return null;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public String toString() &#123;</span><br><span class="line">            return &quot;TreeInfo&#123;&quot; +</span><br><span class="line">                    &quot;files&#x3D;&quot; + files +</span><br><span class="line">                    &quot;, dirs&#x3D;&quot; + dirs +</span><br><span class="line">                    &#39;&#125;&#39;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * test</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        if (args.length &#x3D;&#x3D; 0) &#123;</span><br><span class="line">            System.out.println(walk(&quot;.&quot;));</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            for (String arg : args) &#123;</span><br><span class="line">                System.out.println(walk(arg));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>根据策略处理regex匹配到的文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">public class ProcessFiles &#123;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 策略接口</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public interface Strategy &#123;</span><br><span class="line">        void process(File file);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private Strategy strategy;</span><br><span class="line">    private String ext;</span><br><span class="line"></span><br><span class="line">    public ProcessFiles(Strategy strategy, String ext) &#123;</span><br><span class="line">        this.strategy &#x3D; strategy;</span><br><span class="line">        this.ext &#x3D; ext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void start(String[] args) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            if (args.length &#x3D;&#x3D; 0) &#123;</span><br><span class="line">                processDirectoryTree(new File(&quot;.&quot;));</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                for (String arg : args) &#123;</span><br><span class="line">                    File fileArg &#x3D; new File(arg);</span><br><span class="line">                    if (fileArg.isDirectory()) &#123;</span><br><span class="line">                        processDirectoryTree(fileArg);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        if (!arg.endsWith(&quot;.&quot; + ext)) &#123;</span><br><span class="line">                            arg +&#x3D; &quot;.&quot; + ext;</span><br><span class="line">                            strategy.process(new File(arg).getCanonicalFile());</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void processDirectoryTree(File root) &#123;</span><br><span class="line">        for (File file : Directory.walk(root.getAbsolutePath(), &quot;.*\\.&quot; + ext)) &#123;</span><br><span class="line">            strategy.process(file);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * test</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        new ProcessFiles(System.out::println, &quot;java&quot;).start(args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>目录检查及创建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public class MakeDirectories &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        File file &#x3D; new File(&quot;src&#x2F;io&#x2F;MakeDirectories.java&quot;);</span><br><span class="line">        System.out.println(file.getAbsolutePath());</span><br><span class="line">        System.out.println(file.getName());</span><br><span class="line">        System.out.println(file.canWrite());</span><br><span class="line">        System.out.println(file.canRead());</span><br><span class="line">        System.out.println(file.length());</span><br><span class="line">        System.out.println(file.getParent());</span><br><span class="line">        System.out.println(file.isFile());</span><br><span class="line">        System.out.println(file.isDirectory());</span><br><span class="line">        System.out.println(file.lastModified());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="输入和输出"><a href="#输入和输出" class="headerlink" title="输入和输出"></a>输入和输出</h2><p>编程语言的I/O类库中常使用<strong>流</strong>这个概念，它代表任何有能力产出数据的数据源对象或者是有能力接收数据的接收端对象。<strong>流</strong>屏蔽了实际的I/O设备中处理数据的细节。</p>
<h3 id="InputStream类型"><a href="#InputStream类型" class="headerlink" title="InputStream类型"></a>InputStream类型</h3><p>Inputstream的作用是用来表示那些从不同数据源产生输入的类。</p>
<ol>
<li>字节数组</li>
<li>String</li>
<li>文件</li>
<li><strong>管道</strong>，工作方式与实际的管到类似，即，从一端输入，从另一端输出。</li>
<li>一个由其他种类的流组成的序列，以便我们可以将它们收集合并到一个流内。</li>
<li>其他数据源，如Internet连接等。</li>
</ol>
<table>
<thead>
<tr>
<th>类</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>ByteArrayInputStream</td>
<td>允许将内存的缓冲区当做InputStream使用</td>
</tr>
<tr>
<td>StringBufferInputStream</td>
<td>将String转换成InputStream</td>
</tr>
<tr>
<td>FileInputStream</td>
<td>用于从文件中读取信息</td>
</tr>
<tr>
<td>PipedInputStream</td>
<td>产生用于写入相关PipedOutputStream的数据。实现管道化概念</td>
</tr>
<tr>
<td>SequenceInputStream</td>
<td>将两个或多个InputStream对象转换成单一InputStream</td>
</tr>
<tr>
<td>FilterInputStream</td>
<td>抽象类，作为*<strong>装饰器**<em>的接口。其中</em></strong>装饰器***为其他InputStream的类提供有用功能</td>
</tr>
</tbody></table>
<h3 id="OutputStream类型"><a href="#OutputStream类型" class="headerlink" title="OutputStream类型"></a>OutputStream类型</h3><p>OutputStream决定了输出索要去往的目标：字节数组（但不是String，不过可以自己用字节数组创建String）、文件或管道。</p>
<table>
<thead>
<tr>
<th>类</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>ByteArrayOutputStream</td>
<td>在内存中创建缓冲区。所有送往**<em>流**</em>的数据都要放置在此缓冲区</td>
</tr>
<tr>
<td>FileOutputStream</td>
<td>用于将信息写入至文件</td>
</tr>
<tr>
<td>PipedOutputStream</td>
<td>任何写入其中的信息都会自动为相关PipedInputStream的输入。实现管道化概念</td>
</tr>
<tr>
<td>FilterOutputStream</td>
<td>抽象类，作为*<strong>装饰器**<em>的接口。其中，</em></strong>装饰器***为其他OutputStream提供有用的功能</td>
</tr>
</tbody></table>
<h2 id="添加属性和有用的接口"><a href="#添加属性和有用的接口" class="headerlink" title="添加属性和有用的接口"></a>添加属性和有用的接口</h2><p>FilterInputStream和FilterOutputStream是用来提供装饰器接口以控制特定输入流和输出流的两个类，他们的名字并不是很直观。</p>
<h3 id="通过FilterInputStream从InputStream读取数据"><a href="#通过FilterInputStream从InputStream读取数据" class="headerlink" title="通过FilterInputStream从InputStream读取数据"></a>通过FilterInputStream从InputStream读取数据</h3><p>FilterInputStream类型</p>
<table>
<thead>
<tr>
<th>类</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>DataInputStream</td>
<td>与DataOutputStream搭配使用，因此我们可以按照可移植方式从流读取基本数据类型<strong>int</strong>、<strong>char</strong>、<strong>long</strong>等</td>
</tr>
<tr>
<td>BufferedInputStream</td>
<td>使用它可以防止每次读取时都进行实际写操作，代表<strong>使用缓冲区</strong></td>
</tr>
<tr>
<td>LineNumberInputStream</td>
<td>跟踪输入流中的行号；可调用getLineNumber()和setLineNumber(int)</td>
</tr>
<tr>
<td>PushbackInputStream</td>
<td>具有<strong>能弹出一个字节的缓冲区</strong>。因此可以将读取到的最后一个字符回退</td>
</tr>
</tbody></table>
<h3 id="通过FilterOutputStream向OutputStream写入"><a href="#通过FilterOutputStream向OutputStream写入" class="headerlink" title="通过FilterOutputStream向OutputStream写入"></a>通过FilterOutputStream向OutputStream写入</h3><p>FilterOutputStream类型</p>
<table>
<thead>
<tr>
<th>类</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>DataOutputStream</td>
<td>与DataInputStream搭配使用，因此可以按照可移植方式向流中写入基本类型数据<strong>int</strong> <strong>char</strong> <strong>long</strong>等</td>
</tr>
<tr>
<td>PrintStream</td>
<td>用于产出格式化输出。其中DataOutputStream处理数据的存储，PrintStream处理显示</td>
</tr>
<tr>
<td>BufferedOutputStream</td>
<td>使用它以避免每次发送数据时都要要进行实际的操作。代表<strong>使用缓冲区</strong>。可以调用flush()清空缓冲区</td>
</tr>
</tbody></table>
<h2 id="Reader和Writer"><a href="#Reader和Writer" class="headerlink" title="Reader和Writer"></a>Reader和Writer</h2><p>Reader和Writer提供兼容Unicode与面向**<em>字符**</em>的I/O功能。</p>
<p>InputStream和OutputStream提供面向**<em>字节**</em>的功能。</p>
<h2 id="自我独立的类：RandomAccessFile"><a href="#自我独立的类：RandomAccessFile" class="headerlink" title="自我独立的类：RandomAccessFile"></a>自我独立的类：RandomAccessFile</h2><p>RandomAccessFile适用于由大小已经知道的记录组成的文件，所以我们可以使用seek()将记录从一处转移到另一处，然后读取或修改几率。文件中记录的大小不一定都相同，只要我们能够确定那些记录有多大以及他们在文件中的位置即可。</p>
<h2 id="I-O流的经典使用方式"><a href="#I-O流的经典使用方式" class="headerlink" title="I/O流的经典使用方式"></a>I/O流的经典使用方式</h2><p>尽管可以通过不同的方式组合I/O流类，但是我们可能也就只用到其中的几种组合。</p>
<h3 id="缓冲输入文件"><a href="#缓冲输入文件" class="headerlink" title="缓冲输入文件"></a>缓冲输入文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedInputFile</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">read</span><span class="params">(String filename)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        BufferedReader in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(filename));</span><br><span class="line">        String s;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>((s = in.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            sb.append(s).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        in.close();</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        System.out.println(read(<span class="string">&quot;src/io/BufferedInputFile.java&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="从内存中输入"><a href="#从内存中输入" class="headerlink" title="从内存中输入"></a>从内存中输入</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package io;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.StringReader;</span><br><span class="line"></span><br><span class="line">public class MemoryInput &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws IOException &#123;</span><br><span class="line">        StringReader in &#x3D; new StringReader(BufferedInputFile.read(&quot;src&#x2F;io&#x2F;MemoryInput.java&quot;));</span><br><span class="line">        int c;</span><br><span class="line">        while ((c &#x3D; in.read()) !&#x3D; -1) &#123;</span><br><span class="line">            System.out.println((char) c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="格式化的内存输入"><a href="#格式化的内存输入" class="headerlink" title="格式化的内存输入"></a>格式化的内存输入</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package io;</span><br><span class="line"></span><br><span class="line">import java.io.ByteArrayInputStream;</span><br><span class="line">import java.io.DataInputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class FormattedMemoryInput &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            DataInputStream in &#x3D; new DataInputStream(new ByteArrayInputStream(BufferedInputFile.read(&quot;src&#x2F;io&#x2F;FormattedMemoryInput.java&quot;).getBytes()));</span><br><span class="line">            &#x2F;&#x2F; 检查剩余字符</span><br><span class="line">            while (in.available() !&#x3D; 0) &#123;</span><br><span class="line">                System.out.println((char) in.readByte());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="基本的文件输出"><a href="#基本的文件输出" class="headerlink" title="基本的文件输出"></a>基本的文件输出</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">package io;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line">public class BasicFileOutput &#123;</span><br><span class="line"></span><br><span class="line">    static String file &#x3D; &quot;src&#x2F;io&#x2F;BasicFileOutput&quot;;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws IOException &#123;</span><br><span class="line">        BufferedReader in &#x3D; new BufferedReader(new StringReader(BufferedInputFile.read(&quot;src&#x2F;io&#x2F;BasicFileOutput.java&quot;)));</span><br><span class="line">        PrintWriter out &#x3D; new PrintWriter(new BufferedWriter(new FileWriter(file)));</span><br><span class="line">        int lineCount &#x3D; 1;</span><br><span class="line">        String s;</span><br><span class="line">        while((s &#x3D; in.readLine()) !&#x3D; null) &#123;</span><br><span class="line">            out.println(lineCount++ + &quot;: &quot; + s);</span><br><span class="line">        &#125;</span><br><span class="line">        out.close();</span><br><span class="line">        System.out.println(BufferedInputFile.read(&quot;src&#x2F;io&#x2F;BasicFileOutput&quot;));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="文本文件输出的快捷方式"><a href="#文本文件输出的快捷方式" class="headerlink" title="文本文件输出的快捷方式"></a>文本文件输出的快捷方式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">package io;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line">public class FileOutputShortcut &#123;</span><br><span class="line"></span><br><span class="line">    static String file &#x3D; &quot;src&#x2F;io&#x2F;FileOutputShortcut&quot;;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws IOException &#123;</span><br><span class="line">        BufferedReader in &#x3D; new BufferedReader(new StringReader(BufferedInputFile.read(&quot;src&#x2F;io&#x2F;FileOutputShortcut.java&quot;)));</span><br><span class="line">        PrintWriter out &#x3D; new PrintWriter(file);</span><br><span class="line">        int lineCount &#x3D; 1;</span><br><span class="line">        String s;</span><br><span class="line">        while ((s &#x3D; in.readLine()) !&#x3D; null) &#123;</span><br><span class="line">            out.println(lineCount++ + &quot;\t :&quot; + s);</span><br><span class="line">        &#125;</span><br><span class="line">        out.close();</span><br><span class="line">        System.out.println(BufferedInputFile.read(file));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="存储和恢复数据"><a href="#存储和恢复数据" class="headerlink" title="存储和恢复数据"></a>存储和恢复数据</h3><p>PrintWriter可以对数据进行格式化，以方便人们的阅读。但是为了输出可供另一个<strong>流</strong>恢复的数据，我们需要使用DataOutputStream写入数据，并用DataInputStream恢复数据。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package io;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line">public class StoringAndRecoveringData &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws IOException &#123;</span><br><span class="line">        String filePath &#x3D; &quot;src&#x2F;io&#x2F;Data&quot;;</span><br><span class="line">        DataOutputStream out &#x3D; new DataOutputStream(new BufferedOutputStream(new FileOutputStream(filePath)));</span><br><span class="line">        out.writeDouble(3.1415926);</span><br><span class="line">        out.writeUTF(&quot;That was pi&quot;);</span><br><span class="line">        out.writeDouble(1.41413);</span><br><span class="line">        out.writeUTF(&quot;Square root of 2&quot;);</span><br><span class="line">        out.close();</span><br><span class="line">        DataInputStream in &#x3D; new DataInputStream(new BufferedInputStream(new FileInputStream(filePath)));</span><br><span class="line">        System.out.println(in.readDouble());</span><br><span class="line">        System.out.println(in.readUTF());</span><br><span class="line">        System.out.println(in.readDouble());</span><br><span class="line">        System.out.println(in.readUTF());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>保证数据一致性：</p>
<ol>
<li>为文件中的数据采用固定的格式</li>
<li>将额外的信息保存在文件中，以便能够对其进行解析以确定数据的存放位置</li>
</ol>
<h3 id="读写随机访问文件"><a href="#读写随机访问文件" class="headerlink" title="读写随机访问文件"></a>读写随机访问文件</h3><p>使用RandomAccessFile类</p>
<h3 id="管道流"><a href="#管道流" class="headerlink" title="管道流"></a>管道流</h3><p>PipedInputStream、PipedOutputStream、PipedReader和PipedWriter管道流用于任务之间的通信，在并发中使用。</p>
<h2 id="文件读写的实用工具"><a href="#文件读写的实用工具" class="headerlink" title="文件读写的实用工具"></a>文件读写的实用工具</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">package io;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import java.util.TreeSet;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * @author: luu</span><br><span class="line"> * @date: 2021-01-15 11:49</span><br><span class="line"> **&#x2F;</span><br><span class="line">public class MyTextFile extends ArrayList&lt;String&gt; &#123;</span><br><span class="line"></span><br><span class="line">    public static String read(String fileName) &#123;</span><br><span class="line">        StringBuilder sb &#x3D; new StringBuilder();</span><br><span class="line">        try &#123;</span><br><span class="line">            try (BufferedReader in &#x3D; new BufferedReader(new FileReader(new File(fileName).getAbsoluteFile()))) &#123;</span><br><span class="line">                String s;</span><br><span class="line">                while ((s &#x3D; in.readLine()) !&#x3D; null) &#123;</span><br><span class="line">                    sb.append(s).append(&quot;\n&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">        return sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void write(String fileName, String text) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            try (PrintWriter out &#x3D; new PrintWriter(new File(fileName).getAbsoluteFile())) &#123;</span><br><span class="line">                out.print(text);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public MyTextFile(String fileName, String splitter) &#123;</span><br><span class="line">        super(Arrays.asList(read(fileName).split(splitter)));</span><br><span class="line">        if (&quot;&quot;.equals(get(0))) &#123;</span><br><span class="line">            remove(0);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public MyTextFile(String fileName) &#123;</span><br><span class="line">        this(fileName, &quot;\n&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void write(String fileName) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            try (PrintWriter out &#x3D; new PrintWriter(new File(fileName).getAbsoluteFile())) &#123;</span><br><span class="line">                for (String item : this) &#123;</span><br><span class="line">                    out.println(item);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        String file &#x3D; read(&quot;src&#x2F;io&#x2F;MyTextFile.java&quot;);</span><br><span class="line">        write(&quot;src&#x2F;io&#x2F;MyTextFile&quot;, file);</span><br><span class="line">        MyTextFile myTextFile &#x3D; new MyTextFile(&quot;src&#x2F;io&#x2F;MyTextFile&quot;);</span><br><span class="line">        myTextFile.write(&quot;src&#x2F;io&#x2F;MyTextFile2&quot;);</span><br><span class="line">        TreeSet&lt;String&gt; words &#x3D; new TreeSet&lt;&gt;(new MyTextFile(&quot;src&#x2F;io&#x2F;MyTextFile.java&quot;, &quot;\\W+&quot;));</span><br><span class="line">        System.out.println(words.headSet(&quot;a&quot;));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="读取二进制文件"><a href="#读取二进制文件" class="headerlink" title="读取二进制文件"></a>读取二进制文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">package io;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line">public class BinaryFile &#123;</span><br><span class="line"></span><br><span class="line">    public static byte[] read(File bFile) throws IOException &#123;</span><br><span class="line">        try (BufferedInputStream bf &#x3D; new BufferedInputStream(new FileInputStream(bFile))) &#123;</span><br><span class="line">            byte[] data &#x3D; new byte[bf.available()];</span><br><span class="line">            bf.read(data);</span><br><span class="line">            return data;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static byte[] read(String bFile) throws IOException &#123;</span><br><span class="line">        return read(new File(bFile).getAbsoluteFile());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws IOException &#123;</span><br><span class="line">        byte[] read &#x3D; read(&quot;src&#x2F;io&#x2F;BinaryFile.java&quot;);</span><br><span class="line">        for (byte b : read) &#123;</span><br><span class="line">            System.out.println(b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="标准I-O"><a href="#标准I-O" class="headerlink" title="标准I/O"></a>标准I/O</h2><p>标准I/O这个属于参考的是Unix中<strong>程序所使用的单一信息流</strong>的概念。</p>
<p>标准I/O的意义在于，我们可以很容易的把程序串联起来，一个程序的标准输出可以成为另一个程序的标准输入。这是一个强大的工具。</p>
<h3 id="从标准输入中读取"><a href="#从标准输入中读取" class="headerlink" title="从标准输入中读取"></a>从标准输入中读取</h3><p>按照标准I/O模型，Java提供了<code>System.in</code> <code>System.out</code> <code>System.err</code>。</p>
<h3 id="将System-out转换成PrintWriter"><a href="#将System-out转换成PrintWriter" class="headerlink" title="将System.out转换成PrintWriter"></a>将System.out转换成PrintWriter</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package io;</span><br><span class="line"></span><br><span class="line">import java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line">public class ChangeSystemOut &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        PrintWriter out &#x3D; new PrintWriter(System.out, true);</span><br><span class="line">        out.println(&quot;Hello, world&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="标准I-O重定向"><a href="#标准I-O重定向" class="headerlink" title="标准I/O重定向"></a>标准I/O重定向</h3><p>Java的<code>System</code>类提供了简单的静态方法调用，以允许我们对标准输入、输出和错误I/O流进行重定向：</p>
<ul>
<li>setIn(InputStream)</li>
<li>setOut(PrintStream)</li>
<li>setErr(PrintStream)</li>
</ul>
<p>如果在显示器上创建大量输出，并且滚动太快以至于无法阅读，此时重定向就显得极为有用。</p>
<h2 id="进程控制"><a href="#进程控制" class="headerlink" title="进程控制"></a>进程控制</h2><p>经常会需要在Java内部执行其他操作系统程序，并且要控制这些程序的输入和输出。Java类库提供了执行这些操作的类<code>Process</code>类。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">package io;</span><br><span class="line"></span><br><span class="line">import java.io.BufferedReader;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line">public class OSExecute &#123;</span><br><span class="line"></span><br><span class="line">    public static void command(String command) &#123;</span><br><span class="line">        boolean err &#x3D; false;</span><br><span class="line">        try &#123;</span><br><span class="line">            Process process &#x3D; new ProcessBuilder(command.split(&quot; &quot;)).start();</span><br><span class="line">            BufferedReader result &#x3D; new BufferedReader(new InputStreamReader(process.getInputStream()));</span><br><span class="line">            String s;</span><br><span class="line">            while((s &#x3D; result.readLine()) !&#x3D; null) &#123;</span><br><span class="line">                System.out.println(s);</span><br><span class="line">            &#125;</span><br><span class="line">            BufferedReader errors &#x3D; new BufferedReader(new InputStreamReader(process.getErrorStream()));</span><br><span class="line">            while((s &#x3D; errors.readLine()) !&#x3D; null) &#123;</span><br><span class="line">                System.out.println(s);</span><br><span class="line">                err &#x3D; true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            if(!command.startsWith(&quot;CMD &#x2F;C&quot;))&#123;</span><br><span class="line">                command(&quot;CMD &#x2F;C&quot; + command);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                throw new RuntimeException(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (err) &#123;</span><br><span class="line">            throw new RuntimeException(&quot;Errors executing &quot; + command);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        command(&quot;git status&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="新I-O"><a href="#新I-O" class="headerlink" title="新I/O"></a>新I/O</h2><p>JDK1.4中<code>java.nio.*</code>包中引入了新的JavaI/O类库，其目的在于提高速度。</p>
<p>速度的提高来自于所使用的的结构更接近于操作系统执行I/O的方式：<strong>通道</strong>和<strong>缓冲器</strong>。</p>
<p>唯一与<strong>通道</strong>打交道的是<strong>缓冲器</strong>``ByteBuffer`，使用时我们只需与<strong>缓冲器</strong>打交道。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">package io;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line">import java.nio.ByteBuffer;</span><br><span class="line">import java.nio.channels.FileChannel;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * @author: luu</span><br><span class="line"> * @date: 2021-01-15 13:11</span><br><span class="line"> **&#x2F;</span><br><span class="line">public class GetChannel &#123;</span><br><span class="line"></span><br><span class="line">    private static final int BAIZE &#x3D; 1024;</span><br><span class="line">    private static final String FILE_PATH &#x3D; &quot;src&#x2F;io&#x2F;GetChannel&quot;;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws IOException &#123;</span><br><span class="line">        FileChannel fc &#x3D; new FileOutputStream(FILE_PATH).getChannel();</span><br><span class="line">        fc.write(ByteBuffer.wrap(&quot;Some text &quot;.getBytes()));</span><br><span class="line">        fc.close();</span><br><span class="line">        fc &#x3D; new RandomAccessFile(FILE_PATH, &quot;rw&quot;).getChannel();</span><br><span class="line">        fc.position(fc.size());</span><br><span class="line">        fc.write(ByteBuffer.wrap(&quot;Some more&quot;.getBytes()));</span><br><span class="line">        fc.close();</span><br><span class="line">        fc &#x3D; new FileInputStream(new File(FILE_PATH)).getChannel();</span><br><span class="line">        ByteBuffer buff &#x3D; ByteBuffer.allocate(BAIZE);</span><br><span class="line">        fc.read(buff);</span><br><span class="line">        buff.flip();</span><br><span class="line">        while (buff.hasRemaining()) &#123;</span><br><span class="line">            System.out.print((char) buff.get());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ByteBuffer</code>使用<code>allocate()</code>方法来分配ByteBuffer。</p>
<p><code>ByteBuffer</code>需要调用<code>flip()</code>方法让它做好被别人读取的准备。</p>
<p><code>ByteBuffer</code>需要调用<code>clear()</code>方法清空<strong>缓冲器</strong>，让它为下一个read做好准备。</p>
<p><code>FileChannel.read()</code>返回<code>-1</code>时，表示已经到达了输入的末尾。</p>
<p>可以使用<code>transferTo()</code> <code>transferFrom()</code>方法将一个通道和另一个通道连接。</p>
<h3 id="转换数据"><a href="#转换数据" class="headerlink" title="转换数据"></a>转换数据</h3><p>使用<code>java.nio.charset.Charset</code>类，该类提供了把数据编码成多种不同类型的字符集工具。</p>
<h3 id="获取基本类型"><a href="#获取基本类型" class="headerlink" title="获取基本类型"></a>获取基本类型</h3><p>向<code>ByteBuffer</code>插入基本类型数据的最简单方法是利用<code>asCharBuffer()</code> <code>asShortBuffer()</code>等获取该缓冲器上的视图，然后使用视图上的put方法。</p>
<h3 id="视图缓冲器"><a href="#视图缓冲器" class="headerlink" title="视图缓冲器"></a>视图缓冲器</h3><p>视图缓冲器<code>view buffer</code>可以让我们通过某个特定的基本数据类型的视窗查看其地城的<code>ByteBuffer</code>。</p>
<h3 id="字节存放顺序"><a href="#字节存放顺序" class="headerlink" title="字节存放顺序"></a>字节存放顺序</h3><p>不同的机器可能会使用不同的字节排序方法来存储数据。<code>big endian</code>高位优先将最重要的字节存放在地址最低位的存储单元，<code>little endian</code>低位优先则是将最重要的字节放在地址最高的存储器单元。</p>
<p><code>ByteBuffer</code>默认是以高位优先的相识存储数据的。</p>
<p>我们可以使用<code>ByteOrder.BIG_ENDIAN</code>或<code>ByteOrder.LITTLE_ENDIAN</code>的<code>order()</code>方法改变其字节排列顺序。</p>
<h3 id="用缓冲器操纵数据"><a href="#用缓冲器操纵数据" class="headerlink" title="用缓冲器操纵数据"></a>用缓冲器操纵数据</h3><h3 id="缓冲器的细节"><a href="#缓冲器的细节" class="headerlink" title="缓冲器的细节"></a>缓冲器的细节</h3><h3 id="内存映射文件"><a href="#内存映射文件" class="headerlink" title="内存映射文件"></a>内存映射文件</h3><p>内存映射文件允许我们创建和修改哪些因为太大而不能存入内存的文件。</p>
<h3 id="文件加锁"><a href="#文件加锁" class="headerlink" title="文件加锁"></a>文件加锁</h3><p>JDK1.4引入了文件加锁机制，运维我们同步访问某个作为共享资源的文件。</p>
<p>文件锁对于其他的操作系统进程是可见的，因为Java的文件加锁直接映射到了本地操作系统的加锁工具。</p>
<h3 id="对映射文件的部分加锁"><a href="#对映射文件的部分加锁" class="headerlink" title="对映射文件的部分加锁"></a>对映射文件的部分加锁</h3><p>文件映射通常应用于极大的文件。我们可能需要对这种巨大的文件进行部分加锁，以便其他的进程可以修改文件中未被加锁的部分。例如数据库就是这样，因此过个用户可以同时访问他。</p>
<h2 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h2><p>Java I/O类库中的类支持读写压缩格式的数据流。</p>
<table>
<thead>
<tr>
<th>压缩类</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>CheckedInputStream</td>
<td>GetCheckSum()为任何InputStream产生校验和</td>
</tr>
<tr>
<td>CheckedOutputStream</td>
<td>GetCheckSum()为任何OutputStream产生校验和</td>
</tr>
<tr>
<td>DeflaterOutputStream</td>
<td>压缩类的基类</td>
</tr>
<tr>
<td>ZipOutputStream</td>
<td>一个DeflaterOutputStream，用于将数据压缩成Zip文件格式</td>
</tr>
<tr>
<td>GZIPOutputStream</td>
<td>一个DeflaterOutputStream，用于将数据压缩成GZIP文件格式</td>
</tr>
<tr>
<td>InflaterInputStream</td>
<td>解压类的基类</td>
</tr>
<tr>
<td>ZipInputStream</td>
<td>一个InflaterInputStream，用于解压Zip文件格式的数据</td>
</tr>
<tr>
<td>GZIPInputStream</td>
<td>一个InflaterInputStream，用于解压GZIP文件格式的数据</td>
</tr>
</tbody></table>
<h3 id="用GZIP进行简单的压缩"><a href="#用GZIP进行简单的压缩" class="headerlink" title="用GZIP进行简单的压缩"></a>用GZIP进行简单的压缩</h3><p>压缩类的使用非常直观，直接将输出流封装成GZIPOutputStream或ZipOutputStream，并将输入流封装成GZIPInputStream或ZipInputStream即可。</p>
<h3 id="用Zip进行多文件保存"><a href="#用Zip进行多文件保存" class="headerlink" title="用Zip进行多文件保存"></a>用Zip进行多文件保存</h3><h3 id="Java档案文件"><a href="#Java档案文件" class="headerlink" title="Java档案文件"></a>Java档案文件</h3><p>Zip格式也被应用JAR<code>Java Archive</code>Java档案文件格式中。</p>
<h2 id="对象序列化"><a href="#对象序列化" class="headerlink" title="对象序列化"></a>对象序列化</h2><p>Java的**<em>对象序列化**</em>将那些实现了<strong>Serializable</strong>接口的对象转换成一个字节序列，并能够在以后将这个字节序列完全恢复为原来的对象。</p>
<p>序列化机制能够自动弥补不同操作系统之间的差异。</p>
<p>对象的序列化的概念加入到语言中是为了支持两种主要特性。一是Java的远程方法调用，二是Java Bean来说，对象的序列化是必须的。</p>
<h2 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h2><p>对象序列化的一个重要限制是它只是Java的解决方案，只有Java程序才能反序列化这种对象。</p>
<p>一种更具通用性的解决方案是将数据转换为XML格式，这可以使其被各种各样的平台和语言使用。</p>
<h2 id="Preferences"><a href="#Preferences" class="headerlink" title="Preferences"></a>Preferences</h2>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/01/14/Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" rel="next" title="Java网络编程">
                <i class="fa fa-chevron-left"></i> Java网络编程
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/01/15/Java%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84/" rel="prev" title="Java注解和反射">
                Java注解和反射 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#File%E7%B1%BB"><span class="nav-number">1.</span> <span class="nav-text">File类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BE%93%E5%85%A5%E5%92%8C%E8%BE%93%E5%87%BA"><span class="nav-number">2.</span> <span class="nav-text">输入和输出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#InputStream%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.1.</span> <span class="nav-text">InputStream类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OutputStream%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.2.</span> <span class="nav-text">OutputStream类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%B1%9E%E6%80%A7%E5%92%8C%E6%9C%89%E7%94%A8%E7%9A%84%E6%8E%A5%E5%8F%A3"><span class="nav-number">3.</span> <span class="nav-text">添加属性和有用的接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87FilterInputStream%E4%BB%8EInputStream%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="nav-number">3.1.</span> <span class="nav-text">通过FilterInputStream从InputStream读取数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87FilterOutputStream%E5%90%91OutputStream%E5%86%99%E5%85%A5"><span class="nav-number">3.2.</span> <span class="nav-text">通过FilterOutputStream向OutputStream写入</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reader%E5%92%8CWriter"><span class="nav-number">4.</span> <span class="nav-text">Reader和Writer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E6%88%91%E7%8B%AC%E7%AB%8B%E7%9A%84%E7%B1%BB%EF%BC%9ARandomAccessFile"><span class="nav-number">5.</span> <span class="nav-text">自我独立的类：RandomAccessFile</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#I-O%E6%B5%81%E7%9A%84%E7%BB%8F%E5%85%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="nav-number">6.</span> <span class="nav-text">I&#x2F;O流的经典使用方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%93%E5%86%B2%E8%BE%93%E5%85%A5%E6%96%87%E4%BB%B6"><span class="nav-number">6.1.</span> <span class="nav-text">缓冲输入文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E5%86%85%E5%AD%98%E4%B8%AD%E8%BE%93%E5%85%A5"><span class="nav-number">6.2.</span> <span class="nav-text">从内存中输入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%9A%84%E5%86%85%E5%AD%98%E8%BE%93%E5%85%A5"><span class="nav-number">6.3.</span> <span class="nav-text">格式化的内存输入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA"><span class="nav-number">6.4.</span> <span class="nav-text">基本的文件输出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA%E7%9A%84%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F"><span class="nav-number">6.5.</span> <span class="nav-text">文本文件输出的快捷方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E5%92%8C%E6%81%A2%E5%A4%8D%E6%95%B0%E6%8D%AE"><span class="nav-number">6.6.</span> <span class="nav-text">存储和恢复数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E9%9A%8F%E6%9C%BA%E8%AE%BF%E9%97%AE%E6%96%87%E4%BB%B6"><span class="nav-number">6.7.</span> <span class="nav-text">读写随机访问文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%A1%E9%81%93%E6%B5%81"><span class="nav-number">6.8.</span> <span class="nav-text">管道流</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99%E7%9A%84%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7"><span class="nav-number">7.</span> <span class="nav-text">文件读写的实用工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="nav-number">7.1.</span> <span class="nav-text">读取二进制文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E5%87%86I-O"><span class="nav-number">8.</span> <span class="nav-text">标准I&#x2F;O</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E4%B8%AD%E8%AF%BB%E5%8F%96"><span class="nav-number">8.1.</span> <span class="nav-text">从标准输入中读取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%86System-out%E8%BD%AC%E6%8D%A2%E6%88%90PrintWriter"><span class="nav-number">8.2.</span> <span class="nav-text">将System.out转换成PrintWriter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%87%E5%87%86I-O%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">8.3.</span> <span class="nav-text">标准I&#x2F;O重定向</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-number">9.</span> <span class="nav-text">进程控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0I-O"><span class="nav-number">10.</span> <span class="nav-text">新I&#x2F;O</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC%E6%8D%A2%E6%95%B0%E6%8D%AE"><span class="nav-number">10.1.</span> <span class="nav-text">转换数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B"><span class="nav-number">10.2.</span> <span class="nav-text">获取基本类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E7%BC%93%E5%86%B2%E5%99%A8"><span class="nav-number">10.3.</span> <span class="nav-text">视图缓冲器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E5%AD%98%E6%94%BE%E9%A1%BA%E5%BA%8F"><span class="nav-number">10.4.</span> <span class="nav-text">字节存放顺序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E7%BC%93%E5%86%B2%E5%99%A8%E6%93%8D%E7%BA%B5%E6%95%B0%E6%8D%AE"><span class="nav-number">10.5.</span> <span class="nav-text">用缓冲器操纵数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%93%E5%86%B2%E5%99%A8%E7%9A%84%E7%BB%86%E8%8A%82"><span class="nav-number">10.6.</span> <span class="nav-text">缓冲器的细节</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="nav-number">10.7.</span> <span class="nav-text">内存映射文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%8A%A0%E9%94%81"><span class="nav-number">10.8.</span> <span class="nav-text">文件加锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E7%9A%84%E9%83%A8%E5%88%86%E5%8A%A0%E9%94%81"><span class="nav-number">10.9.</span> <span class="nav-text">对映射文件的部分加锁</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%8B%E7%BC%A9"><span class="nav-number">11.</span> <span class="nav-text">压缩</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8GZIP%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E7%9A%84%E5%8E%8B%E7%BC%A9"><span class="nav-number">11.1.</span> <span class="nav-text">用GZIP进行简单的压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8Zip%E8%BF%9B%E8%A1%8C%E5%A4%9A%E6%96%87%E4%BB%B6%E4%BF%9D%E5%AD%98"><span class="nav-number">11.2.</span> <span class="nav-text">用Zip进行多文件保存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Java%E6%A1%A3%E6%A1%88%E6%96%87%E4%BB%B6"><span class="nav-number">11.3.</span> <span class="nav-text">Java档案文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E5%BA%8F%E5%88%97%E5%8C%96"><span class="nav-number">12.</span> <span class="nav-text">对象序列化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#XML"><span class="nav-number">13.</span> <span class="nav-text">XML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Preferences"><span class="nav-number">14.</span> <span class="nav-text">Preferences</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
